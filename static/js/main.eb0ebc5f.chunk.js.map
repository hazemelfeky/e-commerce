{"version":3,"sources":["api/api.js","redux/products.js","components/Cart/CartItem/style.js","components/Cart/CartItem/CartItem.js","components/Cart/style.js","components/Cart/Cart.js","components/Navbar/style.js","components/Navbar/Navbar.js","components/Products/style.js","components/Products/Product/style.js","components/Products/Product/Product.js","components/Products/Products.js","components/Checkout/AdressForm/FormInput.js","components/Checkout/AdressForm/FlexInput.js","components/Checkout/AdressForm/AdressForm.js","components/Checkout/Confirmation/Confirmation.js","components/Checkout/PaymentForm/Review.js","components/Checkout/PaymentForm/PaymentForm.js","components/Checkout/style.js","components/Checkout/Checkout.js","App.js","redux/store.js","index.js"],"names":["commerce","Commerce","process","PRODUCTS_LOADED","COUNTER_INCREASED","CART_LOADED","cartLoaded","cart","type","payload","initialState","list","counter","reducer","state","action","makeStyles","media","height","cardContent","display","justifyContent","cartActions","buttons","alignItems","CartItem","item","classes","useStyles","dispatch","useDispatch","handleUpdateCartQty","lineItemId","quantity","a","update","retrieve","handleRemoveFromCart","remove","Card","className","CardMedia","image","url","alt","name","CardContent","Typography","variant","line_total","formatted_with_symbol","CardActions","Button","color","size","onClick","id","theme","toolbar","mixins","title","emptyButton","minWidth","breakpoints","down","marginBottom","up","marginRight","checkoutButton","link","textDecoration","btnsContainer","width","cardDetails","marginTop","Cart","useSelector","handleEmptyCart","delete","line_items","Container","gutterBottom","length","Grid","container","spacing","map","lineItem","xs","sm","subtotal","component","Link","to","appBar","boxShadow","borderBottom","marginLeft","flexGrow","menuButton","grow","search","position","borderRadius","shape","backgroundColor","alpha","palette","common","white","searchIcon","padding","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","Navbar","Box","sx","AppBar","Toolbar","IconButton","Badge","badgeContent","ShoppingCart","content","background","default","root","maxWidth","paddingTop","actions","Product","product","handleButton","productID","amount","add","md","lg","price","formatted","dangerouslySetInnerHTML","__html","description","AddShoppingCart","Products","products","FormInput","label","required","control","useFormContext","render","field","TextField","fullWidth","FlexInput","son","setSon","dad","InputLabel","Select","value","onChange","e","target","Object","entries","MenuItem","AdressForm","checkoutToken","next","methods","useForm","useState","shippingCountries","setShippingCountries","shippingCountry","setShippingCountry","shippingSubdivisions","setShippingSubdivisions","shippingSubdivision","setShippingSubdivision","shippingOptions","setShippingOptions","shippingOption","setShippingOption","fetchShippingCountries","checkoutTokenId","services","localeListShippingCountries","countries","fetchSubdivisions","countryCode","localeListSubdivisions","subdivisions","fetchShippingOptions","country","stateProvince","checkout","getShippingOptions","region","options","useEffect","onSubmit","handleSubmit","data","sO","style","Confirmation","Review","List","disablePadding","live","ListItem","ListItemText","primary","secondary","fontWeight","PaymentForm","backStep","nextStep","shippingData","stripePromise","loadStripe","event","elements","stripe","preventDefault","cardElement","getElement","CardElement","createPaymentMethod","card","error","console","log","Divider","margin","disabled","layout","paper","stepper","button","divider","spinner","steps","Checkout","activeStep","setActiveStep","setCheckoutToken","history","useHistory","setShippingData","prevActiveStep","Form","generateToken","token","push","Paper","align","Stepper","step","Step","StepLabel","App","getData","then","response","exact","path","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.eb0ebc5f.chunk.js","sourcesContent":["import Commerce from '@chec/commerce.js';\r\n\r\nconst commerce = new Commerce(process.env.REACT_APP_API_KEY, true);\r\n\r\nexport default commerce","//action types \r\nconst PRODUCTS_LOADED = \"loadProducts\"\r\nconst COUNTER_INCREASED = \"increaseCounter\"\r\nconst CART_LOADED = \"loadCart\"\r\nconst OREDR_LOADED = \"getOrder\"\r\n\r\n// actions\r\nexport const productLoaded = products => ({\r\n  type : PRODUCTS_LOADED,\r\n  payload : products\r\n})\r\n\r\nexport const cartLoaded = cart => ({\r\n  type : CART_LOADED,\r\n  payload : cart\r\n})\r\n\r\nexport const orderLoaded = order => ({\r\n  type : OREDR_LOADED,\r\n  payload : order\r\n})\r\n\r\nexport const counterIncreased = x => ({\r\n  type : COUNTER_INCREASED,\r\n  payload : x\r\n})\r\n\r\n// reducer\r\nconst initialState = {\r\n  // list:[\r\n  //   {\r\n  //     id:1, \r\n  //     name:\"pizza\", \r\n  //     price:{\r\n  //       formatted: \"10.00\",\r\n  //       formatted_with_code: \"10.00 USD\",\r\n  //       formatted_with_symbol: \"$10.00\"\r\n  //     }, \r\n  //     description:\"This is pizza.\", \r\n  //     image:{url:\"https://top10cairo.com/wp-content/uploads/2015/12/best-pizza-pizzas-restaurants-cairo-696x364.jpg\"}\r\n  //   },\r\n  // ],\r\n  list:[],\r\n  cart:{},\r\n  counter:0\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch(action.type){\r\n    case PRODUCTS_LOADED:\r\n      return({\r\n        ...state,\r\n        list : action.payload\r\n      })\r\n    case CART_LOADED:\r\n      return({\r\n        ...state,\r\n        cart : action.payload\r\n      })\r\n    case COUNTER_INCREASED:\r\n      return({\r\n        ...state,\r\n        // hello: \" hey \"\r\n        counter: action.payload\r\n      })\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(() => ({\r\n  media: {\r\n    height: 260,\r\n  },\r\n  cardContent: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  cartActions: {\r\n    justifyContent: 'space-between',\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n}));","import React from 'react';\r\nimport { Typography, Button, Card, CardActions, CardContent, CardMedia } from '@material-ui/core';\r\n\r\nimport useStyles from './style';\r\nimport { useDispatch } from 'react-redux';\r\nimport commerce from '../../../api/api';\r\nimport { cartLoaded } from '../../../redux/products';\r\n\r\nconst CartItem = ({ item }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch()\r\n\r\n  const handleUpdateCartQty = async (lineItemId, quantity) => {\r\n    await commerce.cart.update(lineItemId, { quantity });\r\n\r\n    dispatch(cartLoaded(await commerce.cart.retrieve()));\r\n\r\n  };\r\n\r\n  const handleRemoveFromCart = async (lineItemId) => {\r\n    await commerce.cart.remove(lineItemId);\r\n\r\n    dispatch(cartLoaded(await commerce.cart.retrieve()));\r\n\r\n  };\r\n\r\n  return (\r\n    <Card className=\"cart-item\">\r\n      <CardMedia image={item.image.url} alt={item.name} className={classes.media} />\r\n      <CardContent className={classes.cardContent}>\r\n        <Typography variant=\"h4\">{item.name}</Typography>\r\n        <Typography variant=\"h5\">{item.line_total.formatted_with_symbol}</Typography>\r\n      </CardContent>\r\n      <CardActions className={classes.cartActions}>\r\n        <div className={classes.buttons}>\r\n          <Button color=\"secondary\" type=\"button\" size=\"small\" onClick={() => handleUpdateCartQty(item.id, item.quantity - 1)}>-</Button>\r\n          <Typography>&nbsp;{item.quantity}&nbsp;</Typography>\r\n          <Button color=\"secondary\" type=\"button\" size=\"small\" onClick={() => handleUpdateCartQty(item.id, item.quantity + 1)}>+</Button>\r\n        </div>\r\n        <Button variant=\"contained\" type=\"button\" color=\"secondary\" onClick={() => handleRemoveFromCart(item.id)}>Remove</Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CartItem;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  toolbar: theme.mixins.toolbar,\r\n  title: {\r\n    // marginTop: '5%',\r\n  },\r\n  emptyButton: {\r\n    minWidth: '150px',\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginBottom: '5px',\r\n    },\r\n    [theme.breakpoints.up('xs')]: {\r\n      marginRight: '20px',\r\n    },\r\n  },\r\n  checkoutButton: {\r\n    minWidth: '150px',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  btnsContainer:{\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: \"min-content\"\r\n    },\r\n  },\r\n  cardDetails: {\r\n    display: 'flex',\r\n    marginTop: '10%',\r\n    width: '100%',\r\n    justifyContent: 'space-between',\r\n  },\r\n}));","import { Button, Container, Grid, Typography } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Link } from \"react-router-dom\";\r\nimport commerce from \"../../api/api\";\r\nimport { cartLoaded } from \"../../redux/products\";\r\nimport CartItem from \"./CartItem/CartItem\";\r\nimport useStyles from \"./style\"\r\n\r\nconst Cart = () => {\r\n\r\n  const classes = useStyles()\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const cart = useSelector( state => state.cart)\r\n\r\n  const handleEmptyCart = async () => {\r\n    await commerce.cart.delete();\r\n\r\n    dispatch(cartLoaded(await commerce.cart.retrieve()));\r\n  };\r\n\r\n  const renderEmptyCart = () => (\r\n    <Typography variant=\"subtitle1\">You have no items in your shopping cart,\r\n      <Link className={classes.link} to=\"/\">start adding some</Link>!\r\n    </Typography>\r\n  );\r\n\r\n  if (!cart.line_items) return 'Loading';\r\n\r\n  const renderCart = () => (\r\n    <>\r\n      <Grid container spacing={3}>\r\n        {cart.line_items.map((lineItem) => (\r\n          <Grid item xs={12} sm={4} key={lineItem.id}>\r\n            <CartItem item={lineItem} />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n      <div className={classes.cardDetails}>\r\n        <Typography variant=\"h5\">Subtotal: {cart.subtotal.formatted_with_symbol}</Typography>\r\n        <div>\r\n          <Button className={classes.emptyButton} size=\"large\" type=\"button\" variant=\"contained\" color=\"secondary\" onClick={ () => handleEmptyCart()}>Empty cart</Button>\r\n          <Button className={classes.checkoutButton} component={Link} to=\"/checkout\" size=\"large\" type=\"button\" variant=\"contained\" color=\"primary\">Checkout</Button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <div className={classes.toolbar} />\r\n      <Typography className={classes.title} variant=\"h4\" gutterBottom>Your Shopping Cart</Typography>\r\n      { !cart.line_items.length ? renderEmptyCart() : renderCart() }\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Cart;","import { makeStyles, alpha } from '@material-ui/core/styles';\r\n\r\nconst drawerWidth = 0;\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBar: {\r\n    boxShadow: 'none',\r\n    borderBottom: '1px solid rgba(0, 0, 0, 0.12)',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n    },\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n  },\r\n  link:{\r\n    textDecoration: 'none',\r\n    color: 'rgba(0, 0, 0, 0.87)'\r\n  },\r\n  image: {\r\n    marginRight: '10px',\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n}));","import * as React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Box from '@material-ui/core/Box';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport useStyles from \"./style\"\r\nimport { Badge, IconButton } from '@material-ui/core';\r\nimport { ShoppingCart } from '@material-ui/icons';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport default function Navbar() {\r\n\r\n  const cart = useSelector(state => state.cart.line_items)\r\n  // console.log(cart.length);\r\n  // const badgeNumber = Object.keys(selected).length\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <Box sx={{ flexGrow: 1 }}>\r\n      <AppBar position=\"fixed\" color=\"inherit\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <Link to=\"/\" className={classes.link}>\r\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.title}>\r\n              Store\r\n            </Typography>\r\n          </Link>\r\n          <div className={classes.grow} />\r\n          <div className={classes.Button}>\r\n            <Link to=\"/cart\">\r\n              <IconButton aria-label=\"shoping cart\">\r\n                <Badge badgeContent={cart? cart.length : 0} color=\"secondary\">\r\n                  <ShoppingCart />\r\n                </Badge>\r\n              </IconButton>\r\n            </Link>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  toolbar: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.default,\r\n    padding: theme.spacing(3),\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n}));","import { makeStyles } from \"@material-ui/styles\";\r\n\r\nexport default makeStyles(() => ({\r\n  root:{\r\n    maxWidth:'99%'\r\n  },\r\n  media:{\r\n    height:\"0\",\r\n    paddingTop:\"56.25%\"\r\n  },\r\n  content:{\r\n    display:\"flex\",\r\n    justifyContent:\"space-between\"\r\n  },\r\n  actions:{\r\n    display:\"flex\",\r\n    justifyContent:\"flex-end\"\r\n  }\r\n}))","import { CardActions, CardContent, CardMedia, IconButton, Typography } from \"@material-ui/core\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { AddShoppingCart } from \"@material-ui/icons\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport commerce from \"../../../api/api\";\r\nimport { cartLoaded } from \"../../../redux/products\";\r\nimport useStyles from \"./style\"\r\n\r\nconst Product = ({product}) => {\r\n\r\n  const classes = useStyles();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleButton = async (productID, amount) => {\r\n    await commerce.cart.add(productID, amount)\r\n\r\n    dispatch(cartLoaded(await commerce.cart.retrieve()))\r\n\r\n    // dispatch(cartLoaded(item.cart))\r\n  }\r\n\r\n  return (\r\n    <Grid item xs={12} sm={6} md={4} lg={3}>\r\n      <Card className={classes.root}>\r\n        <CardMedia className={classes.media} image={product.image.url} title=\"product image\" />\r\n        <CardContent>\r\n          <div className={classes.content}>\r\n            <Typography variant=\"h5\" gutterBottom>\r\n              {product.name}\r\n            </Typography>\r\n            <Typography variant=\"h5\">\r\n              {product.price.formatted}$\r\n            </Typography>\r\n          </div>\r\n          {/* <Typography variant=\"body2\" color=\"textSecondary\">{product.description}</Typography> */}\r\n          <Typography dangerouslySetInnerHTML={{ __html : product.description}} variant=\"body2\" color=\"textSecondary\" />\r\n        </CardContent>\r\n        <CardActions className={classes.actions}>\r\n          <IconButton onClick={ () => handleButton(product.id, 1) } aria-label=\"Add to cart\">\r\n            <AddShoppingCart />\r\n          </IconButton>\r\n        </CardActions>\r\n      </Card>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Product;","import { Grid } from \"@material-ui/core\";\r\nimport useStyles from \"./style\"\r\nimport Product from \"./Product/Product\";\r\nimport { useSelector } from \"react-redux\"\r\n\r\n\r\n\r\nconst Products = () => {\r\n\r\n  // const prods = [\r\n  //   {id:1, name:\"pizza\", price:5, description:\"This is pizza.\", image:\"https://top10cairo.com/wp-content/uploads/2015/12/best-pizza-pizzas-restaurants-cairo-696x364.jpg\"},\r\n  //   {id:2, name:\"mobile\", price:15, description:\"This is mobile.\", image:\"https://data.wikomobile.com/documents/images/US/8a4af98170c204de5199cedb2d8df3f8.png\"},\r\n  //   {id:3, name:\"pizza\", price:5, description:\"This is pizza.\", image:\"https://top10cairo.com/wp-content/uploads/2015/12/best-pizza-pizzas-restaurants-cairo-696x364.jpg\"},\r\n  //   {id:4, name:\"mobile\", price:15, description:\"This is mobile.\", image:\"https://data.wikomobile.com/documents/images/US/8a4af98170c204de5199cedb2d8df3f8.png\"},\r\n  // ]\r\n\r\n  const products = useSelector( state => state.list)\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <main className={classes.content}>\r\n      <div className={classes.toolbar} />\r\n      { products.length > 0 &&\r\n        <Grid container justifyContent='center' spacing={4}>\r\n        {products.map( product => \r\n          (\r\n            <Product key={product.id} product={product}/>\r\n          )\r\n        )}\r\n      </Grid> \r\n    }\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Products;","import { useFormContext, Controller } from 'react-hook-form';\r\nimport { TextField, Grid } from '@material-ui/core';\r\n\r\nfunction FormInput({ name, label, required }) {\r\n  const { control } = useFormContext();\r\n\r\n  return (\r\n    <Grid item xs={12} sm={6}>\r\n      <Controller\r\n        name={name}\r\n        control={control}\r\n        render={({ field }) => (\r\n          <TextField required={required} label={label} fullWidth variant=\"standard\" />\r\n        )}\r\n      />\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default FormInput;","import { Grid, InputLabel, MenuItem, Select } from \"@material-ui/core\";\r\n\r\nconst FlexInput = ({ label, son, setSon, dad }) => {\r\n\r\n  return (\r\n    // <InputLabel>Shipping Country</InputLabel>\r\n    <Grid item xs={12} sm={6}>\r\n      <InputLabel>{label}</InputLabel>\r\n      <Select value={son} fullWidth onChange={(e) => setSon(e.target.value)}>\r\n        {Object.entries(dad).map(([code, name]) => ({ id: code, label: name })).map((item) => (\r\n          <MenuItem key={item.id} value={item.id}>\r\n            {item.label}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default FlexInput;","import React from 'react';\r\nimport { Button, Grid, InputLabel, MenuItem, Select, Typography } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { FormProvider, useForm } from \"react-hook-form\";\r\nimport FormInput from \"./FormInput\";\r\nimport FlexInput from \"./FlexInput\";\r\nimport commerce from \"../../../api/api\"\r\nimport { Link } from 'react-router-dom';\r\n\r\n// contry , list of subdivitons, ways to ship\r\n// const shipping = [\"\", [], [] ]\r\n// export const ShippingContext = React.createContext()\r\n\r\nconst AdressForm = ({ checkoutToken, next }) => {\r\n\r\n  const methods = useForm();\r\n\r\n  const [shippingCountries, setShippingCountries] = useState([]);\r\n  const [shippingCountry, setShippingCountry] = useState('');\r\n  const [shippingSubdivisions, setShippingSubdivisions] = useState([]);\r\n  const [shippingSubdivision, setShippingSubdivision] = useState('');\r\n  const [shippingOptions, setShippingOptions] = useState([]);\r\n  const [shippingOption, setShippingOption] = useState('');\r\n\r\n  //انا عايز ادمج الفانكشنز اللى تحت دى فى فانكشن عامة تتحط فى الفلكيس كومبوننت\r\n\r\n  const fetchShippingCountries = async (checkoutTokenId) => {\r\n    const { countries } = await commerce.services.localeListShippingCountries(checkoutTokenId);\r\n    setShippingCountries(countries);\r\n  };\r\n\r\n  const fetchSubdivisions = async (countryCode) => {\r\n    const { subdivisions } = await commerce.services.localeListSubdivisions(countryCode);\r\n\r\n    setShippingSubdivisions(subdivisions);\r\n  };\r\n\r\n  const fetchShippingOptions = async (checkoutTokenId, country, stateProvince = null) => {\r\n    const options = await commerce.checkout.getShippingOptions(checkoutTokenId, { country, region: stateProvince });\r\n\r\n    setShippingOptions(options);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchShippingCountries(checkoutToken.id);\r\n  }, [checkoutToken.id]);\r\n\r\n  useEffect(() => {\r\n    if (shippingCountry) fetchSubdivisions(shippingCountry);\r\n  }, [shippingCountry]);\r\n\r\n  useEffect(() => {\r\n    if (shippingSubdivision) fetchShippingOptions(checkoutToken.id, shippingCountry, shippingSubdivision);\r\n  }, [shippingSubdivision, checkoutToken.id, shippingCountry]);\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h6\" gutterBottom>Shipping address</Typography>\r\n      <FormProvider {...methods}>\r\n        <form onSubmit={methods.handleSubmit( data => next({...data, shippingCountry, shippingSubdivision, shippingOption}))}>\r\n          <Grid container spacing={3}>\r\n            <FormInput required name=\"firstName\" label=\"First name\" />\r\n            <FormInput required name=\"lastName\" label=\"Last name\" />\r\n            <FormInput required name=\"address1\" label=\"Address line 1\" />\r\n            <FormInput required name=\"email\" label=\"Email\" />\r\n            <FormInput required name=\"city\" label=\"City\" />\r\n            <FormInput required name=\"zip\" label=\"Zip / Postal code\" />\r\n\r\n            {/* <ShippingContext value={shipping}>\r\n              <FlexInput motherData={shippingCountries} />\r\n            </ShippingContext> */}\r\n\r\n            <FlexInput label=\"Shipping Country\" son={shippingCountry} setSon={setShippingCountry} dad={shippingCountries}  />\r\n            <FlexInput label=\"Shipping Subdivision\" son={shippingSubdivision} setSon={setShippingSubdivision} dad={shippingSubdivisions}  />\r\n            {/* there is a error here in opion as the options is not the same structure */}\r\n            {/* <FlexInput label=\"Shipping Options\" son={shippingOption} setSon={setShippingOption} dad={shippingOptions}  /> */}\r\n\r\n            {/* <Grid item xs={12} sm={6}>\r\n              <InputLabel>Shipping Country</InputLabel>\r\n              <Select value={shippingCountry} fullWidth onChange={(e) => setShippingCountry(e.target.value)}>\r\n                {Object.entries(shippingCountries).map(([code, name]) => ({ id: code, label: name })).map((item) => (\r\n                  <MenuItem key={item.id} value={item.id}>\r\n                    {item.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <InputLabel>Shipping Subdivision</InputLabel>\r\n              <Select value={shippingSubdivision} fullWidth onChange={(e) => setShippingSubdivision(e.target.value)}>\r\n                {Object.entries(shippingSubdivisions).map(([code, name]) => ({ id: code, label: name })).map((item) => (\r\n                  <MenuItem key={item.id} value={item.id}>\r\n                    {item.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </Grid> */}\r\n            <Grid item xs={12} sm={6}>\r\n              <InputLabel>Shipping Options</InputLabel>\r\n              <Select value={shippingOption} fullWidth onChange={(e) => setShippingOption(e.target.value)}>\r\n                {shippingOptions.map((sO) => ({ id: sO.id, label: `${sO.description} - (${sO.price.formatted_with_symbol})` })).map((item) => (\r\n                  <MenuItem key={item.id} value={item.id}>\r\n                    {item.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </Grid>\r\n          </Grid>\r\n          <br />\r\n          <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Button component={Link} variant=\"outlined\" to=\"/cart\">Back to Cart</Button>\r\n            <Button type=\"submit\" variant=\"contained\" color=\"primary\">Next</Button>\r\n          </div>\r\n        </form>\r\n      </FormProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdressForm;","import { Button, Typography } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Confirmation = () => {\r\n  return (\r\n    <>\r\n      <div>\r\n        <Typography variant=\"h5\">Thank you for your purchase!</Typography>\r\n      </div>\r\n      <br />\r\n      <Button component={Link} variant=\"outlined\" type=\"button\" to=\"/\">Back to home</Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Confirmation;","import React from 'react';\r\nimport { Typography, List, ListItem, ListItemText } from '@material-ui/core';\r\n\r\nconst Review = ({ checkoutToken }) => {\r\n  \r\n  // console.log(checkoutToken)\r\n  return(\r\n  <>\r\n    <Typography variant=\"h6\" gutterBottom>Order summary</Typography>\r\n    <List disablePadding>\r\n      {checkoutToken.live.line_items.map((product) => (\r\n        <ListItem style={{ padding: '10px 0' }} key={product.name}>\r\n          <ListItemText primary={product.name} secondary={`Quantity: ${product.quantity}`} />\r\n          <Typography variant=\"body2\">{product.line_total.formatted_with_symbol}</Typography>\r\n        </ListItem>\r\n      ))}\r\n      <ListItem style={{ padding: '10px 0' }}>\r\n        <ListItemText primary=\"Total\" />\r\n        <Typography variant=\"subtitle1\" style={{ fontWeight: 700 }}>\r\n          {checkoutToken.live.subtotal.formatted_with_symbol}\r\n        </Typography>\r\n      </ListItem>\r\n    </List>\r\n  </>\r\n)};\r\n\r\nexport default Review;","import Review from \"./Review\"\r\nimport { Divider, Typography, Button } from '@material-ui/core';\r\nimport { Elements, CardElement, ElementsConsumer } from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport commerce from \"../../../api/api\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { cartLoaded, orderLoaded } from \"../../../redux/products\";\r\n\r\nconst PaymentForm = ({checkoutToken, backStep, nextStep, shippingData}) => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_PUBLIC_KEY);\r\n\r\n  const refreshCart = async () => {\r\n    dispatch(cartLoaded(await commerce.cart.refresh()));\r\n  };\r\n\r\n  // const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\r\n  //   try {\r\n\r\n  //     // dispatch(orderLoaded(await commerce.checkout.capture(checkoutTokenId, newOrder)));\r\n\r\n  //     refreshCart();\r\n\r\n  //   } catch (error) {\r\n  //     console.log(error);\r\n  //   }\r\n  // };\r\n\r\n  const handleSubmit = async (event, elements, stripe) => {\r\n\r\n    event.preventDefault();\r\n\r\n    // acting the cart sent to backend and deleted\r\n    const cardElement = elements.getElement(CardElement);\r\n    const { error } = await stripe.createPaymentMethod({ type: 'card', card: cardElement });\r\n    if(error){\r\n      console.log(error);\r\n    }else{\r\n      await commerce.cart.delete();\r\n      dispatch(cartLoaded(await commerce.cart.retrieve()));\r\n      nextStep();\r\n    }\r\n\r\n    // if (!stripe || !elements) return;\r\n\r\n    // const cardElement = elements.getElement(CardElement);\r\n\r\n    // const { error, paymentMethod } = await stripe.createPaymentMethod({ type: 'card', card: cardElement });\r\n\r\n    // if (error) {\r\n    //   console.log('[error]', error);\r\n    // } else {\r\n    //   const orderData = {\r\n    //     line_items: checkoutToken.live.line_items,\r\n    //     customer: { firstname: shippingData.firstName, lastname: shippingData.lastName, email: shippingData.email },\r\n    //     shipping: { name: 'International', street: shippingData.address1, town_city: shippingData.city, county_state: shippingData.shippingSubdivision, postal_zip_code: shippingData.zip, country: shippingData.shippingCountry },\r\n    //     payment: {\r\n    //       gateway: 'stripe',\r\n    //       stripe: {\r\n    //         payment_method_id: paymentMethod.id,\r\n    //       },\r\n    //     },\r\n    //   };\r\n    //   handleCaptureCheckout(checkoutToken.id, orderData);\r\n    //   nextStep();\r\n    // }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Review checkoutToken={checkoutToken} />\r\n      <Divider />\r\n      <Typography variant=\"h6\" gutterBottom style={{ margin: '20px 0' }}>Payment method</Typography>\r\n      <Elements stripe={stripePromise}>\r\n        <ElementsConsumer>{({ elements, stripe }) => (\r\n          <form onSubmit={(e) => handleSubmit(e, elements, stripe)}>\r\n            <CardElement />\r\n            <br />\r\n            <div style={{ marginTop:\"1rem\", display: 'flex', justifyContent: 'space-between' }}>\r\n              <Button variant=\"outlined\" onClick={backStep}>Back</Button>\r\n              <Button type=\"submit\" variant=\"contained\" disabled={!stripe} color=\"primary\">\r\n                Pay {checkoutToken.live.subtotal.formatted_with_symbol}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        )}\r\n        </ElementsConsumer>\r\n      </Elements>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PaymentForm;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  layout: {\r\n    marginTop: '5%',\r\n    margin:\"\",\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: 600,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '90%',\r\n      // marginTop: 60,\r\n    },\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  divider: {\r\n    margin: '20px 0',\r\n  },\r\n  spinner: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n}));","import { Paper, Step, StepLabel, Stepper, Typography } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router\";\r\nimport commerce from \"../../api/api\";\r\nimport AdressForm from \"./AdressForm/AdressForm\";\r\nimport Confirmation from \"./Confirmation/Confirmation\";\r\nimport PaymentForm from \"./PaymentForm/PaymentForm\";\r\nimport useStyles from \"./style\"\r\n\r\n\r\nconst steps = ['Shipping adrress','Payment details']\r\n\r\nconst Checkout = () => {\r\n  const classes = useStyles()\r\n  const [activeStep, setActiveStep] = useState(0)\r\n  const cart = useSelector(state => state.cart)\r\n  const [checkoutToken, setCheckoutToken] = useState(null);\r\n  const history = useHistory();\r\n  const [shippingData, setShippingData] = useState({});\r\n\r\n  const nextStep = () => setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  const backStep = () => setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n\r\n  const next = (data) => {\r\n    setShippingData(data);\r\n\r\n    nextStep();\r\n  };\r\n\r\n  const Form = () => activeStep === 0 ? \r\n    <AdressForm checkoutToken={checkoutToken} next={next} nextStep={nextStep} /> : \r\n    <PaymentForm checkoutToken={checkoutToken} shippingData={shippingData} nextStep={nextStep} backStep={backStep} />\r\n\r\n\r\n  useEffect(() => {\r\n    if (cart.id) {\r\n      const generateToken = async () => {\r\n        try {\r\n          const token = await commerce.checkout.generateToken(cart.id, { type: 'cart' });\r\n\r\n          setCheckoutToken(token);\r\n        } catch {\r\n          if (activeStep !== steps.length) history.push('/');\r\n        }\r\n      };\r\n\r\n      generateToken();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.toolbar} />\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <Typography variant=\"h4\" align=\"center\">Checkout</Typography>\r\n          <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map( step => (\r\n              <Step key={step}>\r\n                <StepLabel>{step}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n          { activeStep === steps.length ? <Confirmation /> : checkoutToken && <Form /> }\r\n        </Paper>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Checkout;","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Route, Switch } from \"react-router\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport Cart from \"./components/Cart/Cart\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Products from \"./components/Products/Products\";\nimport { cartLoaded, productLoaded } from \"./redux/products\";\nimport commerce from \"./api/api\";\nimport Checkout from \"./components/Checkout/Checkout\";\n\nfunction App() {\n\n  const dispatch = useDispatch()\n\n  const getData = async () => {\n\n    const response = await commerce.products.list()\n      .then((products) =>  products.data);\n\n    dispatch(productLoaded(response))\n    dispatch(cartLoaded(await commerce.cart.retrieve()))\n\n    // console.log(commerce.cart.contents())\n  }\n\n  useEffect( () => {\n    getData()\n    // eslint-disable-next-line\n  },[])\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <Navbar />\n        <Switch>\n          <Route exact component={Products} path=\"/\" />\n          <Route exact component={Cart} path=\"/cart\" />\n          <Route exact component={Checkout} path=\"/checkout\" />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { createStore } from \"redux\";\r\nimport reducer from \"./products\"\r\n\r\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from \"./redux/store\";\n\n\nReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}